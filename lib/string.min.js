!function(){"use strict";const e="\\d",t="\\s\\uFEFF\\xA0",u="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",r="\\u2000-\\u206F",s="\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7",i="\\u2700-\\u27BF",n="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",a="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",l=new RegExp("^["+t+"]+"),h=new RegExp("["+t+"]+$"),p=new RegExp("^"+e+"+$"),o=/[<>&"'`]/g,c=/(<([^>]+)>)/gi,g=new RegExp("(?:["+a+"]["+u+"]*)?(?:["+n+"]["+u+"]*)+|(?:["+a+"]["+u+"]*)+(?!["+n+"])|["+e+"]+|["+i+"]|[^"+s+r+t+"]+","g"),d=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,f=new RegExp("^(?:["+n+a+"]["+u+"]*)+$"),v=new RegExp("^((?:["+n+a+"]["+u+"]*)|["+e+"])+$"),x=/^[\x01-\xFF]*$/,b=(e,t="")=>e?"string"==typeof e?e:Array.isArray(e)?e.join(""):JSON.stringify(e):t,m=(e,t)=>null==e?t:e,_=(e,t,u)=>{let r;return r=t?t instanceof RegExp?t:new RegExp(t,m(u,"")):x.test(e)?d:g,m(b(e).match(r),[])},F=(e,t=!1)=>{let u=b(e),r=u.substr(1);return u.substr(0,1).toUpperCase()+(t?r.toLowerCase():r)},w=e=>_(b(e)).map(((e,t)=>0===t?e.toLowerCase():F(e))).join(""),y=e=>_(b(e)).map((e=>e.toLowerCase())).join("-"),D=e=>{let t=b(e);return t.substr(0,1).toLowerCase()+t.substr(1)},C=(e,t="-")=>_(b(e)).map((e=>e.toLowerCase())).join(t),E=e=>b(e).toLowerCase(),A=(e,t=[])=>b(e).split("").filter((e=>!t.includes(e))),k=(e,t)=>A(b(e),t).reverse().join(""),B=(e=[])=>{let t,u,r=[...e],s=r.length;for(;0!==s;)u=Math.floor(Math.random()*s),s-=1,t=r[s],r[s]=r[u],r[u]=t;return r},S=e=>B(b(e).split("")).join(""),j=e=>_(b(e)).map((e=>e.toLowerCase())).join("_"),W=(e,t)=>{const u=t.toLowerCase(),r=t.toUpperCase();return e+(t===u?r:u)},T=e=>b(e).split("").reduce(W,""),z=(e,t,u="")=>{let r=b(e);const s=x.test(r)?d:g,i=Array.isArray(t)?t:"string"!=typeof t?[]:t.split(u);return e.replace(s,((e,t)=>t&&i.includes(r[t-1])?E(e):F(e)))},q=e=>b(e).toUpperCase(),U=e=>b(e).length,$=(e=[])=>{let t=[...e];for(let e=0;e<t.length;++e)for(let u=e+1;u<t.length;++u)t[e]===t[u]&&t.splice(u--,1);return t},L=(e,t)=>A(e,t).length,R=(e,t)=>$(A(e,t)).length,I=(e,t="")=>{let u=b(e),r=b(t);return""===u||""===r?0:u.split(r).length-1},N=(e,t,u)=>_(e,t,u).length,O=(e,t,u)=>$(_(e,t,u)).length,H={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function M(e){return H[e]}const X=e=>b(e).replace(o,M),J={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},P=Object.keys(J);function Z(e,t){return e.replace(J[t],t)}const G=e=>P.reduce(Z,b(e)),K=(e,t)=>$(A(e,t)).join(""),Q=(e,t,u)=>$(_(e,t,u)).join(""),V=(e,t,u)=>b(e).substring(t,u),Y=(e,t=0)=>V(b(e),0,t),ee=(e,t=0)=>{let u=b(e);return u?V(u,u.length-t):""},te=9007199254740991,ue="\ufeff",re=(e,t,u=te)=>e<t?t:e>u?u:e,se=e=>e===1/0?te:e===-1/0?-te:~~e,ie=(e,t=0,u="...")=>{let r=b(e),s=t?re(se(t),0,te):r.length;return V(r,0,s)+(r.length===s?"":u)},ne=(e,t=0,u="...")=>{const r=ie(e,t,"");return r.slice(e,r.lastIndexOf(" "))+u},ae=(e,t=1)=>{let u=b(e),r=[],s=Math.round(u.length/t);for(let e=0;e<t;e++)r.push(V(u,e*s,s));return r},le=(e,t=0,u="")=>{let r=b(e),s=t?re(se(t),0,te):r.length,i=0;const n=x.test(r)?d:g;return r.replace(n,((e,t)=>{const r=t+e.length;r<=s-u.length&&(i=r)})),r.substring(0,i)+u},he=(e,t=0)=>{let u=b(e),r=t?re(se(t),0,te):u.length;const s=u;if(0===t)return"";for(let e=0;e<r-1;e++)u+=s;return u},pe=(e,t=0)=>{const u=e.length;return he(e,t-u+1).substring(0,t)},oe=(e,t="",u=0,r=!1)=>{let s=b(e),i=u?re(se(u),0,te):s.length,n=t.length,a=i-s.length;if(a<=0||0===n)return s;let l=pe(t,a);return r?l+s:s+l},ce=(e,t=" ",u=0)=>oe(e,t,u,!0),ge=(e,t=" ",u=0)=>oe(e,t,u,!1),de=(e,t="",u=0)=>{let r=b(e),s=u?re(se(u),0,te):r.length,i=t.length,n=s-r.length,a=se(n/2),l=n%2;return n<=0||0===i?r:pe(t,a)+r+pe(t,a+l)},fe=(e,t="",u=0)=>{let r=b(e);return r.substring(0,u)+t+r.substring(u)},ve=Array.prototype.reduce,xe=Array.prototype.reduceRight,be=(e,t)=>me(_e(e,t),t),me=(e,t)=>{let u=b(e);if(!t)return u.replace(l,"");if(""===t||""===u)return u;"string"!=typeof t&&(t="");let r=!0;return ve.call(u,((e,u)=>r&&t.includes(u)?e:(r=!1,e+u)),"")},_e=(e,t)=>{let u=b(e);if(!t)return u.replace(h,"");if(""===t||""===u)return u;"string"!=typeof t&&(t="");let r=!0;return xe.call(u,((e,u)=>r&&t.includes(u)?e:(r=!1,u+e)),"")},Fe=(e,t,u)=>b(e).endsWith(t,u),we=e=>f.test(b(e)),ye=e=>v.test(b(e)),De=e=>p.test(b(e)),Ce=(e,t=!0)=>t?0===b(e).length:0===be(e).length,Ee=e=>0===be(e).length,Ae=e=>E(e)===e,ke=e=>q(e)===e,Be=(e,t,u)=>b(e).startsWith(t,u),Se=e=>b(e).replace(c,""),je=(e,t=[])=>b(e).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,((e,u)=>t.includes(u)?e:"")),We={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function Te(e,t){let u,r,s,i,n,a,l,h=1,p=e.length,o="";for(let c=0;c<p;c++)if("string"==typeof e[c])o+=e[c];else if("object"==typeof e[c]){if(r=e[c],r.keys){u=t[h];for(let e=0;e<r.keys.length;e++){if(void 0===u)throw new Error(Ue('[sprintf] Cannot access property "%s" of undefined value "%s"',r.keys[e],r.keys[e-1]));u=u[r.keys[e]]}}else u=r.param_no?t[r.param_no]:t[h++];if(We.not_type.test(r.type)&&We.not_primitive.test(r.type)&&u instanceof Function&&(u=u()),We.numeric_arg.test(r.type)&&"number"!=typeof u&&isNaN(u))throw new TypeError(Ue("[sprintf] expecting number but found %T"));switch(We.number.test(r.type)&&(a=u>=0),r.type){case"b":u=parseInt(u,10).toString(2);break;case"c":u=String.fromCharCode(parseInt(u,10));break;case"d":case"i":u=parseInt(u,10);break;case"j":u=JSON.stringify(u,null,r.width?parseInt(r.width):0);break;case"e":u=r.precision?parseFloat(u).toExponential(r.precision):parseFloat(u).toExponential();break;case"f":u=r.precision?parseFloat(u).toFixed(r.precision):parseFloat(u);break;case"g":u=r.precision?String(Number(u.toPrecision(r.precision))):parseFloat(u);break;case"o":u=(parseInt(u,10)>>>0).toString(8);break;case"s":u=String(u),u=r.precision?u.substring(0,r.precision):u;break;case"t":u=String(!!u),u=r.precision?u.substring(0,r.precision):u;break;case"T":u=Object.prototype.toString.call(u).slice(8,-1).toLowerCase(),u=r.precision?u.substring(0,r.precision):u;break;case"u":u=parseInt(u,10)>>>0;break;case"v":u=u.valueOf(),u=r.precision?u.substring(0,r.precision):u;break;case"x":u=(parseInt(u,10)>>>0).toString(16);break;case"X":u=(parseInt(u,10)>>>0).toString(16).toUpperCase()}We.json.test(r.type)?o+=u:(!We.number.test(r.type)||a&&!r.sign?l="":(l=a?"+":"-",u=u.toString().replace(We.sign,"")),i=r.pad_char?"0"===r.pad_char?"0":r.pad_char.charAt(1):" ",n=r.width-(l+u).length,s=r.width&&n>0?i.repeat(n):"",o+=r.align?l+u+s:"0"===i?l+s+u:s+l+u)}return o}const ze=Object.create(null);function qe(e){if(ze[e])return ze[e];let t,u=e,r=[],s=0;for(;u;){if(null!==(t=We.text.exec(u)))r.push(t[0]);else if(null!==(t=We.modulo.exec(u)))r.push("%");else{if(null===(t=We.placeholder.exec(u)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;let e=[],u=t[2],r=[];if(null===(r=We.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(e.push(r[1]);""!==(u=u.substring(r[0].length));)if(null!==(r=We.key_access.exec(u)))e.push(r[1]);else{if(null===(r=We.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");e.push(r[1])}t[2]=e}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}u=u.substring(t[0].length)}return ze[e]=r}const Ue=e=>Te(qe(e),arguments),$e=(e,t)=>Ue.apply(null,[e].concat(t||[])),Le=(e,t,u)=>b(e).includes(t,u),Re=(e,t,u,r=!0)=>b(e).split(t,u).map((e=>r?e.trim():e)).filter((e=>!r||!Ee(e))),Ie=(e,t=null,u="")=>{let r,s=b(e);return t?(r=new RegExp(t,"g"),s.replace(r,u)):s},Ne=(e,t="div")=>`<${t}>${b(e)}</${t}>`,Oe=(e,t="",u="")=>t+b(e)+u,He=e=>"string"==typeof e,Me=(e,t,u="")=>{let r,s=b(e);if(!(t instanceof RegExp)){if(r=t?be(b(t)):"",!r)return!1;t=new RegExp(r,u)}return t.test(s)},Xe=(e,t="",u=1)=>b(e)+he(t,u),Je=(e,t="",u=1)=>he(t,u)+b(e),Pe=e=>{let t=b(e);return""===t?t:t[0]===ue?t.substring(1):t},Ze=(e,t=5,u="...")=>e?`${e.substring(0,t)}${u}${e.substring(e.length-t)}`:e;var Ge={camelCase:w,capitalize:F,chars:A,count:U,countChars:L,countUniqueChars:R,countSubstr:I,countWords:N,countUniqueWords:O,dashedName:y,decapitalize:D,kebab:C,lower:E,reverse:k,shuffle:S,snake:j,swap:T,title:z,upper:q,words:_,wrap:Oe,wrapTag:Ne,escapeHtml:X,unescapeHtml:G,unique:K,uniqueWords:Q,substring:V,first:Y,last:ee,truncate:ie,truncateWithAlign:ne,slice:ae,prune:le,repeat:he,pad:de,lpad:ce,rpad:ge,insert:fe,trim:be,ltrim:me,rtrim:_e,endsWith:Fe,isAlpha:we,isAlphaDigit:ye,isDigit:De,isBlank:Ce,isEmpty:Ee,isLower:Ae,isUpper:ke,startsWith:Be,stripTags:je,stripTagsAll:Se,sprintf:Ue,vsprintf:$e,includes:Le,split:Re,strip:Ie,isString:He,matches:Me,append:Xe,prepend:Je,stripBoom:Pe,shorten:Ze};class Ke{constructor(e="",{mutable:t=!0}={}){this.value=e.toString(),this.mutable=t}[Symbol.toPrimitive](e){return"number"===e?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(e){return null==e?this.value:(this.value=e.toString(),this)}get length(){return this.value.length}immutable(e=!0){this.mutable=!e}toString(){return this.value}_result(e){return this.mutable?(this.value=e,this):Qe(e)}camelCase(){return this._result(Ge.camelCase(this.value))}capitalize(e){return this._result(Ge.capitalize(this.value,e))}chars(e){return this._result(Ge.chars(this.value,e))}count(){return Ge.count(this.value)}countChars(e){return Ge.countChars(this.value,e)}countUniqueChars(e){return Ge.countUniqueChars(this.value,e)}countSubstr(e){return Ge.countSubstr(this.value,e)}countWords(e,t){return Ge.countChars(this.value,e,t)}countUniqueWords(e,t){return Ge.countUniqueChars(this.value,e,t)}dashedName(){return this._result(Ge.dashedName(this.value))}decapitalize(){return this._result(Ge.decapitalize(this.value))}endsWith(e,t){return Ge.endsWith(this.value,e,t)}escapeHtml(){return this._result(Ge.escapeHtml(this.value))}first(){return this._result(Ge.first(this.value))}includes(e,t){return Ge.includes(this.value,e,t)}insert(e,t){return this._result(Ge.insert(this.value,e,t))}isAlpha(){return Ge.isAlpha(this.value)}isAlphaDigit(){return Ge.isAlphaDigit(this.value)}isBlank(e){return Ge.isBlank(this.value,e)}isDigit(){return Ge.isDigit(this.value)}isEmpty(){return Ge.isEmpty(this.value)}isLower(){return Ge.isLower(this.value)}static isString(e){return Ge.isString(e)}isUpper(){return Ge.isUpper(this.value)}kebab(e){return this._result(Ge.kebab(this.value,e))}last(e){return this._result(Ge.last(this.value,e))}lower(){return this._result(Ge.lower(this.value))}matches(e,t){return Ge.matches(this.value,e,t)}pad(e,t){return this._result(Ge.pad(this.value,e,t))}lpad(e,t){return this._result(Ge.lpad(this.value,e,t))}rpad(e,t){return this._result(Ge.rpad(this.value,e,t))}prune(e,t){return this._result(Ge.prune(this.value,e,t))}repeat(e){return this._result(Ge.repeat(this.value,e))}append(e,t){return this._result(Ge.append(this.value,e,t))}prepend(e,t){return this._result(Ge.prepend(this.value,e,t))}reverse(e){return this._result(Ge.reverse(this.value,e))}shuffle(){return this._result(Ge.shuffle(this.value))}slice(e){return this._result(Ge.slice(this.value,e))}snake(){return this._result(Ge.snake(this.value))}split(e,t,u){return this._result(Ge.split(this.value,e,t,u))}sprintf(...e){return this._result(Ge.sprintf(this.value,...e))}vsprintf(...e){return this._result(Ge.vsprintf(this.value,...e))}startsWith(e,t){return Ge.startsWith(this.value,e,t)}stripBoom(){return this._result(Ge.stripBoom(this.value))}stripTags(e){return this._result(Ge.stripTags(this.value,e))}stripTagsAll(){return this._result(Ge.stripTagsAll(this.value))}strip(e,t){return this._result(Ge.strip(this.value,e,t))}substring(e,t){return this._result(Ge.substring(this.value,e,t))}swap(){return this._result(Ge.swap(this.value))}title(e,t){return this._result(Ge.title(this.value,e,t))}trim(e){return this._result(Ge.trim(this.value,e))}ltrim(e){return this._result(Ge.ltrim(this.value,e))}rtrim(e){return this._result(Ge.rtrim(this.value,e))}truncate(e,t){return this._result(Ge.truncate(this.value,e,t))}truncateWithAlign(e,t){return this._result(Ge.truncateWithAlign(this.value,e,t))}unescapeHtml(){return this._result(Ge.unescapeHtml(this.value))}unique(e){return this._result(Ge.unique(this.value,e))}uniqueWords(e,t){return this._result(Ge.uniqueWords(this.value,e,t))}upper(){return this._result(Ge.upper(this.value))}words(e,t){return Ge.words(this.value,e,t)}wrap(e,t){return this._result(Ge.wrap(this.value,e,t))}wrapTag(e){return this._result(Ge.wrapTag(this.value,e))}shorten(e,t){return this._result(Ge.shorten(this.value,e,t))}}Object.assign(Ke,Ge);const Qe=e=>new Ke(e);globalThis.Str=Ke,globalThis.str=Qe}();
